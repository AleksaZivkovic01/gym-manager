<div class="session-form-container">
  <div class="form-header">
    <h2>{{ isEdit ? 'Edit session' : 'Add session' }}</h2>
  </div>

  <form (ngSubmit)="saveSession()" #sessionForm="ngForm" class="session-form">
    <div class="form-group">
      <label for="date">Date *</label>
      <input 
        id="date"
        type="date" 
        [(ngModel)]="session.date" 
        name="date" 
        required
        class="form-input"
        [class.error]="!session.date && sessionForm.submitted">
      <span *ngIf="!session.date && sessionForm.submitted" class="error-message">
        Date is required
      </span>
    </div>

    <div class="form-group">
      <label for="time">Time *</label>
      <input 
        id="time"
        type="time" 
        [(ngModel)]="session.time" 
        name="time" 
        required
        class="form-input"
        [class.error]="!session.time && sessionForm.submitted">
      <span *ngIf="!session.time && sessionForm.submitted" class="error-message">
        Time is required
      </span>
    </div>

    <div class="form-group">
      <label for="type">Training Type *</label>
      <input 
        id="type"
        type="text" 
        [(ngModel)]="session.type" 
        name="type" 
        required
        class="form-input"
        [class.error]="!session.type && sessionForm.submitted"
        placeholder="Enter training type (e.g. Yoga, Cardio, Strength)">
      <span *ngIf="!session.type && sessionForm.submitted" class="error-message">
        Training type is required
      </span>
    </div>

    <div class="form-group">
      <label for="maxParticipants">Maximum number of participants *</label>
      <input 
        id="maxParticipants"
        type="number" 
        [(ngModel)]="session.maxParticipants" 
        name="maxParticipants" 
        min="1" 
        required
        class="form-input"
        [class.error]="(!session.maxParticipants || session.maxParticipants < 1) && sessionForm.submitted"
        placeholder="Enter maximum number of participants">
      <span *ngIf="(!session.maxParticipants || session.maxParticipants < 1) && sessionForm.submitted" class="error-message">
        Maximum number of participants must be at least 1
      </span>
    </div>

    <div class="form-group">
          <label for="trainerId">Trainer *</label>
      <select 
        id="trainerId"
        [(ngModel)]="selectedTrainerId" 
        name="trainerId" 
        required
        class="form-select"
        [class.error]="!selectedTrainerId && sessionForm.submitted">
        <option [value]="0">Select trainer</option>
        <option *ngFor="let t of trainers" [value]="t.id">
          {{ t.name }} ({{ t.specialty }})
        </option>
      </select>
      <span *ngIf="!selectedTrainerId && sessionForm.submitted" class="error-message">
        Trainer is required
      </span>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-cancel" (click)="goBack()">Cancel</button>
      <button 
        type="submit" 
        class="btn-submit">
        {{ isEdit ? 'Save changes' : 'Add session' }}
      </button>
    </div>
  </form>
</div>
